{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAM,CACJC,OAAQC,SAASC,cAAc,0BAEjCC,OAAQ,CACNC,MAAOH,SAASC,cAAc,uBAC9BG,KAAMJ,SAASC,cAAc,sBAC7BI,OAAQL,SAASC,cAAc,0BAInC,SAASK,EAAcC,EAAUJ,GAC/B,MAAMK,EAAgBC,KAAKC,SAAW,GAChCC,EAAgB,C,SAAEJ,E,MAAUJ,GAElC,OAAO,IAAIS,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLP,EACFK,EAAQF,GAERG,EAAOH,EAAc,GAEtBR,EAAM,G,CAwBbN,EAAKC,KAAKC,OAAOiB,iBAAiB,SApBfC,IACjB,MAAMC,EAAaC,OAAOC,SAASvB,EAAKK,OAAOC,MAAMkB,OAC/CC,EAAYH,OAAOC,SAASvB,EAAKK,OAAOE,KAAKiB,OAC7CE,EAAcJ,OAAOC,SAASvB,EAAKK,OAAOG,OAAOgB,OAEvDJ,EAAMO,iBAEN,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAaE,IAAK,CAIpCnB,EAHiBmB,EAAI,EACPP,EAAaO,EAAIH,GAG5BI,MAAK,EAACnB,SAAEA,EAAQJ,MAAEA,MACjBR,EAAAgC,OAAOC,QAAQ,uBAAqBrB,QAAiBJ,MAAU,IAEhE0B,OAAM,EAACtB,SAAEA,EAAQJ,MAAEA,MAClBR,EAAAgC,OAAOG,QAAQ,sBAAoBvB,QAAeJ,MAAU,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  btns: {\n    submit: document.querySelector('button[type=\"submit\"]'),\n  },\n  fields: {\n    delay: document.querySelector('input[name=\"delay\"]'),\n    step: document.querySelector('input[name=\"step\"]'),\n    amount: document.querySelector('input[name=\"amount\"]'),\n  },\n};\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const returnMessage = { position, delay };\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(returnMessage);\n      } else {\n        reject(returnMessage);\n      }\n    }, delay);\n  });\n}\n\nconst onBtnClick = event => {\n  const delayValue = Number.parseInt(refs.fields.delay.value);\n  const stepValue = Number.parseInt(refs.fields.step.value);\n  const amountValue = Number.parseInt(refs.fields.amount.value);\n\n  event.preventDefault();\n\n  for (let i = 0; i < amountValue; i++) {\n    const position = i + 1;\n    const delay = delayValue + i * stepValue;\n\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n  }\n};\nrefs.btns.submit.addEventListener('click', onBtnClick);\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","btns","submit","document","querySelector","fields","delay","step","amount","$47d4ff9957288465$var$createPromise","position","shouldResolve","Math","random","returnMessage","Promise","resolve","reject","setTimeout","addEventListener","event","delayValue","Number","parseInt","value","stepValue","amountValue","preventDefault","i","then","Notify","success","catch","failure"],"version":3,"file":"03-promises.22b065b9.js.map"}